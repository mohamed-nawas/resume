const Blogs: Record<number, BlogFull> = {
    2464126: {
      id: 2464126,
      title: 'Docker Advance: Mastering Containerization',
      tag_list: ['docker', 'webdev', 'cloud', 'cloudskills'],
      cover_image: 'https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fvsdghellsvrluw6pjqg6.png',
      url: 'https://dev.to/jaskarandeogan/docker-advance-mastering-containerization-59bm',
      published_at: '2025-05-08T07:00:00Z',
      body_html: "<p>As an experienced developer, you're beyond the basics of <code>docker run</code> and <code>docker build</code>. You need to orchestrate complex, production-ready environments with precision. This guide dives deep into creating robust Docker deployments through YAML configurations, advanced networking, and container health management.</p>\n\n<h2>\n  <a name=\"the-power-of-docker-compose-yaml\" href=\"#the-power-of-docker-compose-yaml\">\n  </a>\n  The Power of Docker Compose YAML\n</h2>\n\n<p>Docker Compose YAML files are the cornerstone of sophisticated multi-container applications. They provide a declarative way to define your entire infrastructure stack.</p>\n\n<h3>\n  <a name=\"anatomy-of-a-production-docker-compose-file\" href=\"#anatomy-of-a-production-docker-compose-file\">\n  </a>\n  Anatomy of a Production Docker Compose File\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code>\n<span class=\"na\">services</span><span class=\"pi\">:</span>\n  <span class=\"na\">api</span><span class=\"pi\">:</span>\n    <span class=\"na\">build</span><span class=\"pi\">:</span>\n      <span class=\"na\">context</span><span class=\"pi\">:</span> <span class=\"s\">./backend</span>\n      <span class=\"na\">dockerfile</span><span class=\"pi\">:</span> <span class=\"s\">Dockerfile.production</span>\n      <span class=\"na\">args</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"s\">BUILD_ENV=production</span>\n    <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">${REGISTRY_URL}/myapp/api:${TAG:-latest}</span>\n    <span class=\"na\">deploy</span><span class=\"pi\">:</span>\n      <span class=\"na\">replicas</span><span class=\"pi\">:</span> <span class=\"m\">3</span>\n      <span class=\"na\">resources</span><span class=\"pi\">:</span>\n        <span class=\"na\">limits</span><span class=\"pi\">:</span>\n          <span class=\"na\">cpus</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">0.50'</span>\n          <span class=\"na\">memory</span><span class=\"pi\">:</span> <span class=\"s\">512M</span>\n      <span class=\"na\">restart_policy</span><span class=\"pi\">:</span>\n        <span class=\"na\">condition</span><span class=\"pi\">:</span> <span class=\"s\">on-failure</span>\n        <span class=\"na\">max_attempts</span><span class=\"pi\">:</span> <span class=\"m\">3</span>\n    <span class=\"na\">healthcheck</span><span class=\"pi\">:</span>\n      <span class=\"na\">test</span><span class=\"pi\">:</span> <span class=\"pi\">[</span><span class=\"s2\">\"</span><span class=\"s\">CMD\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">curl\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">-f\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">http://localhost:8000/health\"</span><span class=\"pi\">]</span>\n      <span class=\"na\">interval</span><span class=\"pi\">:</span> <span class=\"s\">30s</span>\n      <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"s\">10s</span>\n      <span class=\"na\">retries</span><span class=\"pi\">:</span> <span class=\"m\">3</span>\n      <span class=\"na\">start_period</span><span class=\"pi\">:</span> <span class=\"s\">40s</span>\n    <span class=\"na\">environment</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">NODE_ENV=production</span>\n      <span class=\"pi\">-</span> <span class=\"s\">DATABASE_URL=postgres://user:pass@db:5432/app</span>\n    <span class=\"na\">secrets</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">api_key</span>\n    <span class=\"na\">networks</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">backend</span>\n      <span class=\"pi\">-</span> <span class=\"s\">frontend</span>\n    <span class=\"na\">depends_on</span><span class=\"pi\">:</span>\n      <span class=\"na\">db</span><span class=\"pi\">:</span>\n        <span class=\"na\">condition</span><span class=\"pi\">:</span> <span class=\"s\">service_healthy</span>\n      <span class=\"na\">redis</span><span class=\"pi\">:</span>\n        <span class=\"na\">condition</span><span class=\"pi\">:</span> <span class=\"s\">service_healthy</span>\n\n  <span class=\"na\">db</span><span class=\"pi\">:</span>\n    <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">postgres:14-alpine</span>\n    <span class=\"na\">volumes</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">db-data:/var/lib/postgresql/data</span>\n      <span class=\"pi\">-</span> <span class=\"s\">./init-scripts:/docker-entrypoint-initdb.d</span>\n    <span class=\"na\">healthcheck</span><span class=\"pi\">:</span>\n      <span class=\"na\">test</span><span class=\"pi\">:</span> <span class=\"pi\">[</span><span class=\"s2\">\"</span><span class=\"s\">CMD-SHELL\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">pg_isready</span><span class=\"nv\"> </span><span class=\"s\">-U</span><span class=\"nv\"> </span><span class=\"s\">postgres\"</span><span class=\"pi\">]</span>\n      <span class=\"na\">interval</span><span class=\"pi\">:</span> <span class=\"s\">10s</span>\n      <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"s\">5s</span>\n      <span class=\"na\">retries</span><span class=\"pi\">:</span> <span class=\"m\">5</span>\n    <span class=\"na\">environment</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">POSTGRES_PASSWORD_FILE=/run/secrets/db_password</span>\n    <span class=\"na\">secrets</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">db_password</span>\n    <span class=\"na\">networks</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">backend</span>\n\n  <span class=\"na\">redis</span><span class=\"pi\">:</span>\n    <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">redis:alpine</span>\n    <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"pi\">[</span><span class=\"s2\">\"</span><span class=\"s\">redis-server\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">--appendonly\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">yes\"</span><span class=\"pi\">]</span>\n    <span class=\"na\">healthcheck</span><span class=\"pi\">:</span>\n      <span class=\"na\">test</span><span class=\"pi\">:</span> <span class=\"pi\">[</span><span class=\"s2\">\"</span><span class=\"s\">CMD\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">redis-cli\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">ping\"</span><span class=\"pi\">]</span>\n      <span class=\"na\">interval</span><span class=\"pi\">:</span> <span class=\"s\">10s</span>\n      <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"s\">5s</span>\n      <span class=\"na\">retries</span><span class=\"pi\">:</span> <span class=\"m\">5</span>\n    <span class=\"na\">volumes</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">redis-data:/data</span>\n    <span class=\"na\">networks</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">backend</span>\n\n  <span class=\"na\">nginx</span><span class=\"pi\">:</span>\n    <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">nginx:alpine</span>\n    <span class=\"na\">volumes</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">./nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span>\n      <span class=\"pi\">-</span> <span class=\"s\">./certbot/conf:/etc/letsencrypt</span>\n      <span class=\"pi\">-</span> <span class=\"s\">./certbot/www:/var/www/certbot</span>\n    <span class=\"na\">ports</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s2\">\"</span><span class=\"s\">80:80\"</span>\n      <span class=\"pi\">-</span> <span class=\"s2\">\"</span><span class=\"s\">443:443\"</span>\n    <span class=\"na\">depends_on</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">api</span>\n    <span class=\"na\">networks</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">frontend</span>\n\n<span class=\"na\">volumes</span><span class=\"pi\">:</span>\n  <span class=\"na\">db-data</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">local</span>\n    <span class=\"na\">driver_opts</span><span class=\"pi\">:</span>\n      <span class=\"na\">type</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">none'</span>\n      <span class=\"na\">o</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">bind'</span>\n      <span class=\"na\">device</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">/mnt/data/postgres'</span>\n  <span class=\"na\">redis-data</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">local</span>\n\n<span class=\"na\">networks</span><span class=\"pi\">:</span>\n  <span class=\"na\">frontend</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">bridge</span>\n    <span class=\"na\">ipam</span><span class=\"pi\">:</span>\n      <span class=\"na\">config</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">subnet</span><span class=\"pi\">:</span> <span class=\"s\">172.16.238.0/24</span>\n  <span class=\"na\">backend</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">bridge</span>\n    <span class=\"na\">internal</span><span class=\"pi\">:</span> <span class=\"kc\">true</span>\n    <span class=\"na\">ipam</span><span class=\"pi\">:</span>\n      <span class=\"na\">config</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">subnet</span><span class=\"pi\">:</span> <span class=\"s\">172.16.239.0/24</span>\n\n<span class=\"na\">secrets</span><span class=\"pi\">:</span>\n  <span class=\"na\">api_key</span><span class=\"pi\">:</span>\n    <span class=\"na\">file</span><span class=\"pi\">:</span> <span class=\"s\">./secrets/api_key.txt</span>\n  <span class=\"na\">db_password</span><span class=\"pi\">:</span>\n    <span class=\"na\">file</span><span class=\"pi\">:</span> <span class=\"s\">./secrets/db_password.txt</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"key-configuration-components\" href=\"#key-configuration-components\">\n  </a>\n  Key Configuration Components\n</h3>\n\n<h4>\n  <a name=\"service-configuration\" href=\"#service-configuration\">\n  </a>\n  Service Configuration\n</h4>\n\n<ol>\n<li>\n<strong>Build Context and Arguments</strong>\n</li>\n</ol>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code>   <span class=\"na\">build</span><span class=\"pi\">:</span>\n     <span class=\"na\">context</span><span class=\"pi\">:</span> <span class=\"s\">./backend</span>\n     <span class=\"na\">dockerfile</span><span class=\"pi\">:</span> <span class=\"s\">Dockerfile.production</span>\n     <span class=\"na\">args</span><span class=\"pi\">:</span>\n       <span class=\"pi\">-</span> <span class=\"s\">BUILD_ENV=production</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This separates your build context from your Dockerfile location, allowing for complex build setups and parameterized builds.</p>\n\n<ol>\n<li>\n<strong>Resource Limits</strong>\n</li>\n</ol>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code>   <span class=\"na\">deploy</span><span class=\"pi\">:</span>\n     <span class=\"na\">resources</span><span class=\"pi\">:</span>\n       <span class=\"na\">limits</span><span class=\"pi\">:</span>\n         <span class=\"na\">cpus</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">0.50'</span>\n         <span class=\"na\">memory</span><span class=\"pi\">:</span> <span class=\"s\">512M</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Setting hard limits prevents container resource contention and protects your host system.</p>\n\n<h4>\n  <a name=\"health-checks-the-reliability-guardian\" href=\"#health-checks-the-reliability-guardian\">\n  </a>\n  Health Checks - The Reliability Guardian\n</h4>\n\n<p>Health checks are critical for production readiness:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">healthcheck</span><span class=\"pi\">:</span>\n  <span class=\"na\">test</span><span class=\"pi\">:</span> <span class=\"pi\">[</span><span class=\"s2\">\"</span><span class=\"s\">CMD\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">curl\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">-f\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">http://localhost:8000/health\"</span><span class=\"pi\">]</span>\n  <span class=\"na\">interval</span><span class=\"pi\">:</span> <span class=\"s\">30s</span>\n  <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"s\">10s</span>\n  <span class=\"na\">retries</span><span class=\"pi\">:</span> <span class=\"m\">3</span>\n  <span class=\"na\">start_period</span><span class=\"pi\">:</span> <span class=\"s\">40s</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This configuration:</p>\n\n<ul>\n<li>Polls your service's health endpoint every 30 seconds</li>\n<li>Allows 10 seconds for a response</li>\n<li>Retries 3 times before marking unhealthy</li>\n<li>Provides a 40-second grace period during startup</li>\n</ul>\n\n<p>Health checks enable:</p>\n\n<ul>\n<li>Self-healing containers that restart when services fail</li>\n<li>Dependency ordering based on actual service readiness</li>\n<li>Orchestration-level service discovery</li>\n</ul>\n\n<h4>\n  <a name=\"networking-isolated-and-secure\" href=\"#networking-isolated-and-secure\">\n  </a>\n  Networking - Isolated and Secure\n</h4>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">networks</span><span class=\"pi\">:</span>\n  <span class=\"na\">frontend</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">bridge</span>\n    <span class=\"na\">ipam</span><span class=\"pi\">:</span>\n      <span class=\"na\">config</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">subnet</span><span class=\"pi\">:</span> <span class=\"s\">172.16.238.0/24</span>\n  <span class=\"na\">backend</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">bridge</span>\n    <span class=\"na\">internal</span><span class=\"pi\">:</span> <span class=\"kc\">true</span>\n    <span class=\"na\">ipam</span><span class=\"pi\">:</span>\n      <span class=\"na\">config</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">subnet</span><span class=\"pi\">:</span> <span class=\"s\">172.16.239.0/24</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The <code>internal: true</code> flag for the backend network is crucial - it prevents any container in this network from establishing outbound connections to the internet, creating a security boundary.</p>\n\n<h2>\n  <a name=\"advanced-docker-image-configuration\" href=\"#advanced-docker-image-configuration\">\n  </a>\n  Advanced Docker Image Configuration\n</h2>\n\n<h3>\n  <a name=\"multistage-builds-for-production-efficiency\" href=\"#multistage-builds-for-production-efficiency\">\n  </a>\n  Multi-stage Builds for Production Efficiency\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight docker\"><code><span class=\"c\"># Build stage</span>\n<span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"s\">node:18-alpine</span><span class=\"w\"> </span><span class=\"k\">AS</span><span class=\"w\"> </span><span class=\"s\">builder</span>\n<span class=\"k\">WORKDIR</span><span class=\"s\"> /app</span>\n<span class=\"k\">COPY</span><span class=\"s\"> package*.json ./</span>\n<span class=\"k\">RUN </span>npm ci\n<span class=\"k\">COPY</span><span class=\"s\"> . .</span>\n<span class=\"k\">RUN </span>npm run build\n\n<span class=\"c\"># Production stage</span>\n<span class=\"k\">FROM</span><span class=\"s\"> node:18-alpine</span>\n<span class=\"k\">WORKDIR</span><span class=\"s\"> /app</span>\n<span class=\"k\">ENV</span><span class=\"s\"> NODE_ENV production</span>\n<span class=\"k\">COPY</span><span class=\"s\"> --from=builder /app/node_modules ./node_modules</span>\n<span class=\"k\">COPY</span><span class=\"s\"> --from=builder /app/dist ./dist</span>\n<span class=\"k\">COPY</span><span class=\"s\"> --from=builder /app/package.json ./</span>\n\n<span class=\"c\"># Use non-root user for security</span>\n<span class=\"k\">RUN </span>addgroup <span class=\"nt\">-g</span> 1001 <span class=\"nt\">-S</span> nodejs <span class=\"o\">&amp;&amp;</span> <span class=\"se\">\\\n</span>    adduser <span class=\"nt\">-S</span> nodejs <span class=\"nt\">-u</span> 1001 <span class=\"o\">&amp;&amp;</span> <span class=\"se\">\\\n</span>    <span class=\"nb\">chown</span> <span class=\"nt\">-R</span> nodejs:nodejs /app\n<span class=\"k\">USER</span><span class=\"s\"> nodejs</span>\n\n<span class=\"c\"># Health check</span>\n<span class=\"k\">HEALTHCHECK</span><span class=\"s\"> --interval=30s --timeout=10s --start-period=40s --retries=3 \\</span>\n    CMD wget -q -O - http://localhost:3000/health || exit 1\n\n<span class=\"c\"># Runtime configuration</span>\n<span class=\"k\">EXPOSE</span><span class=\"s\"> 3000</span>\n<span class=\"k\">CMD</span><span class=\"s\"> [\"node\", \"dist/main.js\"]</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"the-importance-of-base-image-selection\" href=\"#the-importance-of-base-image-selection\">\n  </a>\n  The Importance of Base Image Selection\n</h3>\n\n<p>Base image selection dramatically impacts security, size, and performance:</p>\n\n<ul>\n<li>\n<strong>Distroless Images</strong>: Contain only your application and its runtime dependencies</li>\n<li>\n<strong>Alpine Variants</strong>: Minimal footprint but include package managers for flexibility</li>\n<li>\n<strong>Scratch Images</strong>: Empty images for compiled languages, offering the smallest attack surface</li>\n</ul>\n\n<p>Compare the image size differences:</p>\n\n<ul>\n<li>Node on Debian: ~900MB</li>\n<li>Node on Alpine: ~170MB</li>\n<li>Go compiled binary on scratch: ~10MB</li>\n</ul>\n\n<h2>\n  <a name=\"volume-management-data-persistence-done-right\" href=\"#volume-management-data-persistence-done-right\">\n  </a>\n  Volume Management - Data Persistence Done Right\n</h2>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">volumes</span><span class=\"pi\">:</span>\n  <span class=\"na\">db-data</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">local</span>\n    <span class=\"na\">driver_opts</span><span class=\"pi\">:</span>\n      <span class=\"na\">type</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">none'</span>\n      <span class=\"na\">o</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">bind'</span>\n      <span class=\"na\">device</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">/mnt/data/postgres'</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This configuration maps container data to specific host locations with precise mounting options, ensuring data integrity across container lifecycles.</p>\n\n<h2>\n  <a name=\"secrets-management-the-secure-way\" href=\"#secrets-management-the-secure-way\">\n  </a>\n  Secrets Management - The Secure Way\n</h2>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">secrets</span><span class=\"pi\">:</span>\n  <span class=\"na\">api_key</span><span class=\"pi\">:</span>\n    <span class=\"na\">file</span><span class=\"pi\">:</span> <span class=\"s\">./secrets/api_key.txt</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Secrets in Docker Compose are mounted as files, not environment variables, preventing credential leakage in process lists or error logs.</p>\n\n<h2>\n  <a name=\"network-design-principles\" href=\"#network-design-principles\">\n  </a>\n  Network Design Principles\n</h2>\n\n<h3>\n  <a name=\"creating-defenseindepth\" href=\"#creating-defenseindepth\">\n  </a>\n  Creating Defense-in-Depth\n</h3>\n\n<ol>\n<li>\n<p><strong>Least Privilege Networking</strong>:</p>\n\n<ul>\n<li>Frontend-facing services in one network</li>\n<li>Backend services in an internal network</li>\n<li>Database in its own isolated network</li>\n</ul>\n</li>\n<li>\n<p><strong>Network Segmentation Benefits</strong>:</p>\n\n<ul>\n<li>Limits attack vectors if perimeter is breached</li>\n<li>Provides clear traffic flow visibility</li>\n<li>Enables granular firewall rules</li>\n</ul>\n</li>\n</ol>\n\n<h3>\n  <a name=\"custom-bridge-networks-with-static-ips\" href=\"#custom-bridge-networks-with-static-ips\">\n  </a>\n  Custom Bridge Networks with Static IPs\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">networks</span><span class=\"pi\">:</span>\n  <span class=\"na\">app_net</span><span class=\"pi\">:</span>\n    <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">bridge</span>\n    <span class=\"na\">ipam</span><span class=\"pi\">:</span>\n      <span class=\"na\">driver</span><span class=\"pi\">:</span> <span class=\"s\">default</span>\n      <span class=\"na\">config</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">subnet</span><span class=\"pi\">:</span> <span class=\"s\">172.28.0.0/16</span>\n          <span class=\"na\">ip_range</span><span class=\"pi\">:</span> <span class=\"s\">172.28.5.0/24</span>\n          <span class=\"na\">gateway</span><span class=\"pi\">:</span> <span class=\"s\">172.28.5.254</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Static IP assignments allow for deterministic network configurations, especially useful when integrating with legacy systems or configuring static firewall rules.</p>\n\n<h2>\n  <a name=\"container-dependency-management\" href=\"#container-dependency-management\">\n  </a>\n  Container Dependency Management\n</h2>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">depends_on</span><span class=\"pi\">:</span>\n  <span class=\"na\">db</span><span class=\"pi\">:</span>\n    <span class=\"na\">condition</span><span class=\"pi\">:</span> <span class=\"s\">service_healthy</span>\n  <span class=\"na\">redis</span><span class=\"pi\">:</span>\n    <span class=\"na\">condition</span><span class=\"pi\">:</span> <span class=\"s\">service_healthy</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This ensures your application only starts when its dependencies are truly ready to accept connections, not just when their containers have started.</p>\n\n<h2>\n  <a name=\"why-this-advanced-approach-matters\" href=\"#why-this-advanced-approach-matters\">\n  </a>\n  Why This Advanced Approach Matters\n</h2>\n\n<ol>\n<li>\n<strong>Infrastructure as Code</strong>: Your entire environment is versioned, reproducible, and testable</li>\n<li>\n<strong>Consistency Across Environments</strong>: Dev, staging, and production use identical configurations</li>\n<li>\n<strong>Security by Design</strong>: Network isolation, minimal base images, and proper secret management</li>\n<li>\n<strong>Simplified Disaster Recovery</strong>: Rebuild your entire stack with a single command</li>\n<li>\n<strong>Efficient Resource Utilization</strong>: Precise resource limits prevent waste and contention</li>\n</ol>\n\n<h2>\n  <a name=\"moving-beyond-basic-docker\" href=\"#moving-beyond-basic-docker\">\n  </a>\n  Moving Beyond Basic Docker\n</h2>\n\n<p>When working at scale, consider these advanced patterns:</p>\n\n<h3>\n  <a name=\"configuration-management-with-docker-configs\" href=\"#configuration-management-with-docker-configs\">\n  </a>\n  Configuration Management with Docker Configs\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">configs</span><span class=\"pi\">:</span>\n  <span class=\"na\">nginx_config</span><span class=\"pi\">:</span>\n    <span class=\"na\">file</span><span class=\"pi\">:</span> <span class=\"s\">./nginx.conf</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Unlike volumes, configs are immutable and better represent configuration as code.</p>\n\n<h3>\n  <a name=\"custom-health-check-implementations\" href=\"#custom-health-check-implementations\">\n  </a>\n  Custom Health Check Implementations\n</h3>\n\n<p>For complex applications, implement sophisticated health checks that verify:</p>\n\n<ul>\n<li>Database connections</li>\n<li>External API availability</li>\n<li>Cache system functionality</li>\n<li>Queue processor status</li>\n</ul>\n\n<h3>\n  <a name=\"init-systems-and-zombie-process-prevention\" href=\"#init-systems-and-zombie-process-prevention\">\n  </a>\n  Init Systems and Zombie Process Prevention\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"na\">services</span><span class=\"pi\">:</span>\n  <span class=\"na\">app</span><span class=\"pi\">:</span>\n    <span class=\"na\">init</span><span class=\"pi\">:</span> <span class=\"kc\">true</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The <code>init: true</code> flag adds a lightweight init system to your container, preventing zombie processes and ensuring proper signal handling.</p>\n\n<h2>\n  <a name=\"the-path-to-orchestration\" href=\"#the-path-to-orchestration\">\n  </a>\n  The Path to Orchestration\n</h2>\n\n<p>This advanced Docker Compose setup forms the foundation for moving to orchestration platforms like Kubernetes. The principles remain the same:</p>\n\n<ul>\n<li>Declarative configuration</li>\n<li>Health monitoring</li>\n<li>Resource management</li>\n<li>Network segmentation</li>\n<li>Secret handling</li>\n</ul>\n\n<p>By mastering these Docker concepts, you're not just containerizing applications—you're building production-ready, scalable, and secure systems that embody DevOps best practices.</p>\n\n<p>The true power of Docker isn't in simplifying development; it's in enabling consistent, repeatable infrastructure that bridges the gap between development and operations, turning the art of deployment into a precise science.</p>\n\n<h2>\n  <a name=\"upcoming\" href=\"#upcoming\">\n  </a>\n  Upcoming\n</h2>\n\n<ul>\n<li>How to self-host Coolify - an open source alternative to Netlify or Heroku. </li>\n<li>self-host services like analytics, email-server, interactive-forms, databases and much more!</li>\n</ul>\n\n"
    },
    2492409: {
      id: 2492409,
      title: 'Kubernetes at Home: Set Up Your Own Cluster Using Vagrant & Ansible',
      tag_list: ['devops', 'kubernetes', 'vagrant', 'ansible'],
      cover_image: 'https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fflva26aw2y9yrce6bds4.png',
      url: 'https://dev.to/houssambourkane/kubernetes-at-home-set-up-your-own-cluster-using-vagrant-ansible-4c8a',
      published_at: '2025-05-15T23:30:03Z',
      body_html: "<blockquote>\n<p><strong>TL;DR:</strong> Learn how to build a lightweight Kubernetes cluster on your local machine using Vagrant, Ansible, and VMware Fusion. Perfect for ARM-based Mac users looking to experiment with Kubernetes in a reproducible environment.</p>\n</blockquote>\n\n\n<hr>\n\n<h2>\n  <a name=\"why-this-guide\" href=\"#why-this-guide\">\n  </a>\n  Why This Guide?\n</h2>\n\n<p>Setting up a Kubernetes cluster manually can be complex and time-consuming. But with the power of <strong>Vagrant</strong> for managing virtual machines and <strong>Ansible</strong> for automating setup tasks, you can spin up a local cluster with minimal effort and maximum reproducibility. This tutorial walks you through building a two-node cluster on macOS with ARM chips (e.g., M1/M2), but it's adaptable to other setups.</p>\n\n\n<hr>\n\n<h2>\n  <a name=\"table-of-contents\" href=\"#table-of-contents\">\n  </a>\n  Table of Contents\n</h2>\n\n<ul>\n<li><a href=\"#prerequisites\">Prerequisites</a></li>\n<li><a href=\"#project-structure\">Project Structure</a></li>\n<li><a href=\"#step-1-configure-vagrant\">Step 1: Configure Vagrant</a></li>\n<li>\n<a href=\"#step-2-configure-ansible\">Step 2: Configure Ansible</a> </li>\n<li>\n<a href=\"#step-3-ansible-playbook-for-kubernetes-setup\">Step 3: Ansible Playbook for Kubernetes Setup</a> </li>\n<li><a href=\"#step-4-test-and-deploy-the-cluster\">Step 4: Test and Deploy the Cluster</a></li>\n<li><a href=\"#whats-next\">What's Next?</a></li>\n<li><a href=\"#useful-links\">Useful links</a></li>\n</ul>\n\n\n<hr>\n\n<h2>\n  <a name=\"prerequisites\" href=\"#prerequisites\">\n  </a>\n  Prerequisites\n</h2>\n\n<p>Before we start, ensure you have the following installed:</p>\n\n<ul>\n<li><a href=\"https://developer.hashicorp.com/vagrant/install\" target=\"_blank\" rel=\"noopener noreferrer\">Vagrant</a></li>\n<li><a href=\"https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html\" target=\"_blank\" rel=\"noopener noreferrer\">Ansible</a></li>\n<li><a href=\"https://knowledge.broadcom.com/external/article/315638/download-and-install-vmware-fusion.html\" target=\"_blank\" rel=\"noopener noreferrer\">VMware Fusion Tech Preview</a></li>\n</ul>\n\n<blockquote>\n<p>For macOS ARM users, refer to this special setup guide: <a href=\"https://dev.to/houssambourkane/run-vagrant-vms-in-a-m1m2m3-macos-chip-2p3l\">Run Vagrant VMs in a M1/M2/M3 Apple Sillicon Chip</a></p>\n</blockquote>\n\n\n<hr>\n\n<h2>\n  <a name=\"project-structure\" href=\"#project-structure\">\n  </a>\n  Project Structure\n</h2>\n\n<p>Create a project directory and replicate the following structure:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nb\">.</span>\n├── ansible\n│   ├── ansible.cfg\n│   ├── inventory.ini\n│   └── k8s-cluster-setup.yml\n└── Vagrantfile\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n<hr>\n\n<h2>\n  <a name=\"step-1-configure-vagrant\" href=\"#step-1-configure-vagrant\">\n  </a>\n  Step 1: Configure Vagrant\n</h2>\n\n<p>Install the VMware Desktop plugin:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>vagrant plugin <span class=\"nb\">install </span>vagrant-vmware-desktop\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Next, reserve <strong>two static private IPs</strong> from your LAN. Scan your local network using:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>nmap <span class=\"nt\">-sn</span> 192.168.1.0/24\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<blockquote>\n<p>Replace <code>192.168.1.0</code> with you LAN network IP</p>\n</blockquote>\n\n<p>Update your <code>Vagrantfile</code> with something like this:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight ruby\"><code><span class=\"no\">Vagrant</span><span class=\"p\">.</span><span class=\"nf\">configure</span><span class=\"p\">(</span><span class=\"s2\">\"2\"</span><span class=\"p\">)</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">config</span><span class=\"o\">|</span>\n  <span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">define</span> <span class=\"s2\">\"kubmaster\"</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">kub</span><span class=\"o\">|</span>\n    <span class=\"n\">kub</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">box</span> <span class=\"o\">=</span> <span class=\"s2\">\"spox/ubuntu-arm\"</span>\n    <span class=\"n\">kub</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">box_version</span> <span class=\"o\">=</span> <span class=\"s2\">\"1.0.0\"</span>\n    <span class=\"n\">kub</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">hostname</span> <span class=\"o\">=</span> <span class=\"s1\">'kubmaster'</span>\n    <span class=\"n\">kub</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">provision</span> <span class=\"s2\">\"docker\"</span>\n    <span class=\"n\">kub</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">network</span> <span class=\"s2\">\"public_network\"</span><span class=\"p\">,</span> <span class=\"ss\">ip: </span><span class=\"s2\">\"192.168.1.101\"</span><span class=\"p\">,</span> <span class=\"ss\">bridge: </span><span class=\"s2\">\"en0: Wifi\"</span>\n    <span class=\"n\">kub</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">provider</span> <span class=\"s2\">\"vmware_desktop\"</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">v</span><span class=\"o\">|</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">allowlist_verified</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">gui</span> <span class=\"o\">=</span> <span class=\"kp\">false</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">vmx</span><span class=\"p\">[</span><span class=\"s2\">\"memsize\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"4096\"</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">vmx</span><span class=\"p\">[</span><span class=\"s2\">\"numvcpus\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"2\"</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">define</span> <span class=\"s2\">\"kubnode1\"</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">kubnode</span><span class=\"o\">|</span>\n    <span class=\"n\">kubnode</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">box</span> <span class=\"o\">=</span> <span class=\"s2\">\"spox/ubuntu-arm\"</span>\n    <span class=\"n\">kubnode</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">box_version</span> <span class=\"o\">=</span> <span class=\"s2\">\"1.0.0\"</span>\n    <span class=\"n\">kubnode</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">hostname</span> <span class=\"o\">=</span> <span class=\"s1\">'kubnode1'</span>\n    <span class=\"n\">kubnode</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">provision</span> <span class=\"s2\">\"docker\"</span>\n    <span class=\"n\">kubnode</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">network</span> <span class=\"s2\">\"public_network\"</span><span class=\"p\">,</span> <span class=\"ss\">ip: </span><span class=\"s2\">\"192.168.1.102\"</span><span class=\"p\">,</span> <span class=\"ss\">bridge: </span><span class=\"s2\">\"en0: Wifi\"</span>\n    <span class=\"n\">kubnode</span><span class=\"p\">.</span><span class=\"nf\">vm</span><span class=\"p\">.</span><span class=\"nf\">provider</span> <span class=\"s2\">\"vmware_desktop\"</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">v</span><span class=\"o\">|</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">allowlist_verified</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">gui</span> <span class=\"o\">=</span> <span class=\"kp\">false</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">vmx</span><span class=\"p\">[</span><span class=\"s2\">\"memsize\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"4096\"</span>\n      <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"nf\">vmx</span><span class=\"p\">[</span><span class=\"s2\">\"numvcpus\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"2\"</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<blockquote>\n<p>Replace the IPs with ones that match your LAN.</p>\n</blockquote>\n\n<p>Now bring up the VMs:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>vagrant up\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n<hr>\n\n<h2>\n  <a name=\"step-2-configure-ansible\" href=\"#step-2-configure-ansible\">\n  </a>\n  Step 2: Configure Ansible\n</h2>\n\n<h3>\n  <a name=\"-raw-ansibleinventoryini-endraw-\" href=\"#-raw-ansibleinventoryini-endraw-\">\n  </a>\n  <code>ansible/inventory.ini</code>\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight ini\"><code><span class=\"nn\">[master]</span>\n<span class=\"err\">kubmaster</span> <span class=\"py\">ansible_host</span><span class=\"p\">=</span><span class=\"s\">192.168.1.101 ansible_ssh_private_key_file=.vagrant/machines/kubmaster/vmware_desktop/private_key</span>\n\n<span class=\"nn\">[workers]</span>\n<span class=\"err\">kubnode1</span> <span class=\"py\">ansible_host</span><span class=\"p\">=</span><span class=\"s\">192.168.1.102 ansible_ssh_private_key_file=.vagrant/machines/kubnode1/vmware_desktop/private_key</span>\n\n<span class=\"nn\">[all:vars]</span>\n<span class=\"py\">ansible_user</span><span class=\"p\">=</span><span class=\"s\">vagrant</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<blockquote>\n<p>Make sure to replace the IP addresses</p>\n</blockquote>\n\n<h3>\n  <a name=\"-raw-ansibleansiblecfg-endraw-\" href=\"#-raw-ansibleansiblecfg-endraw-\">\n  </a>\n  <code>ansible/ansible.cfg</code>\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight ini\"><code><span class=\"nn\">[defaults]</span>\n<span class=\"py\">inventory</span> <span class=\"p\">=</span> <span class=\"s\">inventory.ini</span>\n<span class=\"py\">host_key_checking</span> <span class=\"p\">=</span> <span class=\"s\">False</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n<hr>\n\n<h2>\n  <a name=\"step-3-ansible-playbook-for-kubernetes-setup\" href=\"#step-3-ansible-playbook-for-kubernetes-setup\">\n  </a>\n  Step 3: Ansible Playbook for Kubernetes Setup\n</h2>\n\n<h3>\n  <a name=\"-raw-ansiblek8sclustersetupyml-endraw-\" href=\"#-raw-ansiblek8sclustersetupyml-endraw-\">\n  </a>\n  <code>ansible/k8s-cluster-setup.yml</code>\n</h3>\n\n<p>This playbook performs the following:</p>\n\n<ul>\n<li>Prepares all nodes: disables swap, installs required packages, configures kernel modules, adds K8s repositories, installs <code>kubeadm</code>, <code>kubelet</code>, and <code>kubectl</code>.</li>\n<li>Initializes the master node and stores the cluster join command.</li>\n<li>Sets up Flannel CNI for networking.</li>\n<li>Joins worker nodes using the generated join command.\n</li>\n</ul>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight yaml\"><code><span class=\"nn\">---</span>\n<span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Prepare Kubernetes Nodes</span>\n  <span class=\"na\">hosts</span><span class=\"pi\">:</span> <span class=\"s\">all</span>\n  <span class=\"na\">become</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n\n  <span class=\"na\">tasks</span><span class=\"pi\">:</span>  \n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Disable swap (runtime)</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">swapoff -a</span>\n      <span class=\"na\">when</span><span class=\"pi\">:</span> <span class=\"s\">ansible_swaptotal_mb &gt; </span><span class=\"m\">0</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Comment out swap line in /etc/fstab</span>\n      <span class=\"na\">lineinfile</span><span class=\"pi\">:</span>\n        <span class=\"na\">path</span><span class=\"pi\">:</span> <span class=\"s\">/etc/fstab</span>\n        <span class=\"na\">regexp</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">^\\s*([^#]\\S*\\s+\\S+\\s+swap\\s+\\S+)\\s*$'</span>\n        <span class=\"na\">line</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">#</span><span class=\"nv\"> </span><span class=\"s\">\\1'</span>\n        <span class=\"na\">backrefs</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Apply mount changes</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">mount -a</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Stop AppArmor</span>\n      <span class=\"na\">systemd</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">apparmor</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">stopped</span>\n        <span class=\"na\">enabled</span><span class=\"pi\">:</span> <span class=\"s\">no</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Restart containerd</span>\n      <span class=\"na\">systemd</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">containerd</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">restarted</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Configure sysctl for Kubernetes</span>\n      <span class=\"na\">copy</span><span class=\"pi\">:</span>\n        <span class=\"na\">dest</span><span class=\"pi\">:</span> <span class=\"s\">/etc/sysctl.d/kubernetes.conf</span>\n        <span class=\"na\">content</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n          <span class=\"s\">net.bridge.bridge-nf-call-ip6tables = 1</span>\n          <span class=\"s\">net.bridge.bridge-nf-call-iptables = 1</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Apply sysctl settings</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">sysctl --system</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Install transport and curl</span>\n      <span class=\"na\">apt</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span>\n          <span class=\"pi\">-</span> <span class=\"s\">apt-transport-https</span>\n          <span class=\"pi\">-</span> <span class=\"s\">curl</span>\n        <span class=\"na\">update_cache</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">present</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Add Kubernetes APT key</span>\n      <span class=\"na\">shell</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n        <span class=\"s\">curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.33/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg</span>\n      <span class=\"na\">args</span><span class=\"pi\">:</span>\n        <span class=\"na\">creates</span><span class=\"pi\">:</span> <span class=\"s\">/etc/apt/keyrings/kubernetes-apt-keyring.gpg</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Add Kubernetes APT repository</span>\n      <span class=\"na\">apt_repository</span><span class=\"pi\">:</span>\n        <span class=\"na\">repo</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">deb</span><span class=\"nv\"> </span><span class=\"s\">[signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg]</span><span class=\"nv\"> </span><span class=\"s\">https://pkgs.k8s.io/core:/stable:/v1.33/deb/</span><span class=\"nv\"> </span><span class=\"s\">/\"</span>\n        <span class=\"na\">filename</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">kubernetes\"</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">present</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Install Kubernetes components</span>\n      <span class=\"na\">apt</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span>\n          <span class=\"pi\">-</span> <span class=\"s\">kubelet</span>\n          <span class=\"pi\">-</span> <span class=\"s\">kubeadm</span>\n          <span class=\"pi\">-</span> <span class=\"s\">kubectl</span>\n          <span class=\"pi\">-</span> <span class=\"s\">kubernetes-cni</span>\n        <span class=\"na\">update_cache</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">present</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Enable kubelet service</span>\n      <span class=\"na\">systemd</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">kubelet</span>\n        <span class=\"na\">enabled</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n\n<span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Initialize Kubernetes Master</span>\n  <span class=\"na\">hosts</span><span class=\"pi\">:</span> <span class=\"s\">master</span>\n  <span class=\"na\">become</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n  <span class=\"na\">vars</span><span class=\"pi\">:</span>\n    <span class=\"na\">pod_cidr</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">10.244.0.0/16\"</span>\n\n  <span class=\"na\">tasks</span><span class=\"pi\">:</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Remove default containerd config</span>\n      <span class=\"na\">file</span><span class=\"pi\">:</span>\n        <span class=\"na\">path</span><span class=\"pi\">:</span> <span class=\"s\">/etc/containerd/config.toml</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">absent</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Restart containerd</span>\n      <span class=\"na\">systemd</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">containerd</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">restarted</span>\n        <span class=\"na\">enabled</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Wait for containerd socket to be available</span>\n      <span class=\"na\">wait_for</span><span class=\"pi\">:</span>\n        <span class=\"na\">path</span><span class=\"pi\">:</span> <span class=\"s\">/run/containerd/containerd.sock</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">present</span>\n        <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"m\">20</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Initialize Kubernetes control plane</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">kubeadm init --apiserver-advertise-address={{ ansible_host }} --node-name {{ inventory_hostname }} --pod-network-cidr={{ pod_cidr }}</span>\n      <span class=\"na\">register</span><span class=\"pi\">:</span> <span class=\"s\">kubeadm_output</span>\n      <span class=\"na\">args</span><span class=\"pi\">:</span>\n        <span class=\"na\">creates</span><span class=\"pi\">:</span> <span class=\"s\">/etc/kubernetes/admin.conf</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Extract join command</span>\n      <span class=\"na\">shell</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n        <span class=\"s\">kubeadm token create --print-join-command</span>\n      <span class=\"na\">register</span><span class=\"pi\">:</span> <span class=\"s\">join_command</span>\n      <span class=\"na\">changed_when</span><span class=\"pi\">:</span> <span class=\"kc\">false</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Set join command fact</span>\n      <span class=\"na\">set_fact</span><span class=\"pi\">:</span>\n        <span class=\"na\">kube_join_command</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">{{</span><span class=\"nv\"> </span><span class=\"s\">join_command.stdout</span><span class=\"nv\"> </span><span class=\"s\">}}\"</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Create .kube directory for vagrant user</span>\n      <span class=\"na\">become_user</span><span class=\"pi\">:</span> <span class=\"s\">vagrant</span>\n      <span class=\"na\">file</span><span class=\"pi\">:</span>\n        <span class=\"na\">path</span><span class=\"pi\">:</span> <span class=\"s\">/home/vagrant/.kube</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">directory</span>\n        <span class=\"na\">mode</span><span class=\"pi\">:</span> <span class=\"m\">0755</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Copy Kubernetes admin config to vagrant user</span>\n      <span class=\"na\">copy</span><span class=\"pi\">:</span>\n        <span class=\"na\">src</span><span class=\"pi\">:</span> <span class=\"s\">/etc/kubernetes/admin.conf</span>\n        <span class=\"na\">dest</span><span class=\"pi\">:</span> <span class=\"s\">/home/vagrant/.kube/config</span>\n        <span class=\"na\">remote_src</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n        <span class=\"na\">owner</span><span class=\"pi\">:</span> <span class=\"s\">vagrant</span>\n        <span class=\"na\">group</span><span class=\"pi\">:</span> <span class=\"s\">vagrant</span>\n        <span class=\"na\">mode</span><span class=\"pi\">:</span> <span class=\"m\">0644</span>\n\n<span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Configure networking</span>\n  <span class=\"na\">hosts</span><span class=\"pi\">:</span> <span class=\"s\">all</span>\n  <span class=\"na\">become</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n\n  <span class=\"na\">tasks</span><span class=\"pi\">:</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Ensure br_netfilter loads at boot</span>\n      <span class=\"na\">copy</span><span class=\"pi\">:</span>\n        <span class=\"na\">dest</span><span class=\"pi\">:</span> <span class=\"s\">/etc/modules-load.d/k8s.conf</span>\n        <span class=\"na\">content</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n          <span class=\"s\">br_netfilter</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Load br_netfilter kernel module now</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">modprobe br_netfilter</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Configure sysctl for Kubernetes networking</span>\n      <span class=\"na\">copy</span><span class=\"pi\">:</span>\n        <span class=\"na\">dest</span><span class=\"pi\">:</span> <span class=\"s\">/etc/sysctl.d/k8s.conf</span>\n        <span class=\"na\">content</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n          <span class=\"s\">net.bridge.bridge-nf-call-iptables = 1</span>\n          <span class=\"s\">net.bridge.bridge-nf-call-ip6tables = 1</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Apply sysctl settings</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">sysctl --system</span>\n\n<span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Configure flannel</span>\n  <span class=\"na\">hosts</span><span class=\"pi\">:</span> <span class=\"s\">master</span>\n  <span class=\"na\">become</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n\n  <span class=\"na\">tasks</span><span class=\"pi\">:</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Apply Flannel CNI plugin</span>\n      <span class=\"na\">become_user</span><span class=\"pi\">:</span> <span class=\"s\">vagrant</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">kubectl apply -f https://raw.githubusercontent.com/flannel-io/flannel/master/Documentation/kube-flannel.yml</span>\n      <span class=\"na\">environment</span><span class=\"pi\">:</span>\n        <span class=\"na\">KUBECONFIG</span><span class=\"pi\">:</span> <span class=\"s\">/home/vagrant/.kube/config</span>\n\n\n<span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Join worker nodes to cluster</span>\n  <span class=\"na\">hosts</span><span class=\"pi\">:</span> <span class=\"s\">workers</span>\n  <span class=\"na\">become</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n  <span class=\"na\">vars</span><span class=\"pi\">:</span>\n    <span class=\"na\">kube_join_command</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">{{</span><span class=\"nv\"> </span><span class=\"s\">hostvars['kubmaster']['kube_join_command']</span><span class=\"nv\"> </span><span class=\"s\">}}\"</span>\n\n  <span class=\"na\">tasks</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Remove default containerd config</span>\n      <span class=\"na\">file</span><span class=\"pi\">:</span>\n        <span class=\"na\">path</span><span class=\"pi\">:</span> <span class=\"s\">/etc/containerd/config.toml</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">absent</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Restart containerd</span>\n      <span class=\"na\">systemd</span><span class=\"pi\">:</span>\n        <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">containerd</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">restarted</span>\n        <span class=\"na\">enabled</span><span class=\"pi\">:</span> <span class=\"s\">yes</span>\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Wait until the Kubernetes API server is reachable</span>\n      <span class=\"na\">wait_for</span><span class=\"pi\">:</span>\n        <span class=\"na\">host</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">{{</span><span class=\"nv\"> </span><span class=\"s\">hostvars['kubmaster']['ansible_host']</span><span class=\"nv\"> </span><span class=\"s\">}}\"</span>\n        <span class=\"na\">port</span><span class=\"pi\">:</span> <span class=\"m\">6443</span>\n        <span class=\"na\">delay</span><span class=\"pi\">:</span> <span class=\"m\">10</span>\n        <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"m\">120</span>\n        <span class=\"na\">state</span><span class=\"pi\">:</span> <span class=\"s\">started</span>\n\n    <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Join the node to Kubernetes cluster</span>\n      <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">{{</span><span class=\"nv\"> </span><span class=\"s\">kube_join_command</span><span class=\"nv\"> </span><span class=\"s\">}}\"</span>\n      <span class=\"na\">args</span><span class=\"pi\">:</span>\n        <span class=\"na\">creates</span><span class=\"pi\">:</span> <span class=\"s\">/etc/kubernetes/kubelet.conf</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n<hr>\n\n<h2>\n  <a name=\"step-4-test-and-deploy-the-cluster\" href=\"#step-4-test-and-deploy-the-cluster\">\n  </a>\n  Step 4: Test and Deploy the Cluster\n</h2>\n\n<h3>\n  <a name=\"test-ansible-ssh-connectivity\" href=\"#test-ansible-ssh-connectivity\">\n  </a>\n  Test Ansible SSH connectivity:\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>ansible all <span class=\"nt\">-m</span> ping <span class=\"nt\">-i</span> ansible/inventory.ini\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"run-the-full-cluster-setup\" href=\"#run-the-full-cluster-setup\">\n  </a>\n  Run the full cluster setup:\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>ansible-playbook <span class=\"nt\">-i</span> ansible/inventory.ini ansible/k8s-cluster-setup.yml\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"retrieve-the-kubeconfig-file-locally\" href=\"#retrieve-the-kubeconfig-file-locally\">\n  </a>\n  Retrieve the kubeconfig file locally:\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>vagrant ssh kubmaster <span class=\"nt\">-c</span> <span class=\"s2\">\"sudo cat /etc/kubernetes/admin.conf\"</span> <span class=\"o\">&gt;</span> ~/kubeconfig-vagrant.yaml\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"test-your-cluster\" href=\"#test-your-cluster\">\n  </a>\n  Test your cluster:\n</h3>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">KUBECONFIG</span><span class=\"o\">=</span>~/kubeconfig-vagrant.yaml kubectl get nodes\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>You should see both the master and worker nodes in <code>Ready</code> status.</p>\n\n\n<hr>\n\n<h2>\n  <a name=\"whats-next\" href=\"#whats-next\">\n  </a>\n  What's Next?\n</h2>\n\n<p>You now have a fully functioning local Kubernetes cluster on ARM-based hardware, with everything automated and reproducible. You can now:</p>\n\n<ul>\n<li>Experiment with Helm charts</li>\n<li>Try GitOps with ArgoCD</li>\n<li>Deploy sample apps</li>\n</ul>\n\n<p>Stay tuned for the next part of this series!</p>\n\n\n<hr>\n\n<h2>\n  <a name=\"useful-links\" href=\"#useful-links\">\n  </a>\n  Useful Links\n</h2>\n\n<ul>\n<li>Vagrant: <a href=\"https://developer.hashicorp.com/vagrant/install\" target=\"_blank\" rel=\"noopener noreferrer\">https://developer.hashicorp.com/vagrant/install</a>\n</li>\n<li>Ansible: <a href=\"https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html</a>\n</li>\n<li>VMware Fusion Tech Preview: <a href=\"https://knowledge.broadcom.com/external/article/315638/download-and-install-vmware-fusion.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://knowledge.broadcom.com/external/article/315638/download-and-install-vmware-fusion.html</a>\n</li>\n<li>ARM-specific setup guide: <a href=\"https://dev.to/houssambourkane/run-vagrant-vms-in-a-m1m2m3-macos-chip-2p3l\">https://dev.to/houssambourkane/run-vagrant-vms-in-a-m1m2m3-macos-chip-2p3l</a>\n</li>\n<li>Vagrant VMware utility: <a href=\"https://developer.hashicorp.com/vagrant/docs/providers/vmware/vagrant-vmware-utility\" target=\"_blank\" rel=\"noopener noreferrer\">https://developer.hashicorp.com/vagrant/docs/providers/vmware/vagrant-vmware-utility</a>\n</li>\n</ul>\n\n"
    },
    2469183: {
      id: 2469183,
      title: 'How to Self-Host Coolify on Your VPS: A Complete Guide',
      tag_list: ['coolify', 'docker', 'learning', 'community'],
      cover_image: 'https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fg5hh8uh0pl1lmhgrx508.png',
      url: 'https://dev.to/jaskarandeogan/how-to-self-host-coolify-on-your-vps-a-complete-guide-4jfh',
      published_at: '2025-05-12T12:00:00Z',
      body_html: "<p>Deploying applications can be a complex process, especially if you're managing multiple projects. Coolify offers a streamlined solution for developers who want control without the complexity. In this guide, I'll walk you through what Coolify is and how to set it up on your own VPS.</p>\n\n<h2>\n  <a name=\"what-is-coolify\" href=\"#what-is-coolify\">\n  </a>\n  What is Coolify?\n</h2>\n\n<p>Coolify is an open-source, self-hostable alternative to platforms like Heroku and Netlify. It's designed to simplify the deployment and management of applications, websites, and databases on your own infrastructure. With Coolify, you can deploy applications directly from Git repositories with just a few clicks.</p>\n\n<h2>\n  <a name=\"why-use-coolify\" href=\"#why-use-coolify\">\n  </a>\n  Why Use Coolify?\n</h2>\n\n<ol>\n<li>Complete Control: You own your infrastructure and data</li>\n<li>Cost-Effective: Eliminate ongoing SaaS subscription fees</li>\n<li>Privacy: Your code and data stay on your servers</li>\n<li>Customization: Configure everything to your exact needs</li>\n<li>One-Click Deployments: Deploy applications straight from your Git repositories</li>\n<li>Multiple Application Support: Host various applications, websites, and databases in one place</li>\n</ol>\n\n<h2>\n  <a name=\"prerequisites\" href=\"#prerequisites\">\n  </a>\n  Prerequisites\n</h2>\n\n<p>Before installing Coolify, ensure your VPS meets these requirements:</p>\n\n<ul>\n<li>At least 2 CPU cores</li>\n<li>Minimum 4 GB RAM</li>\n<li>40 GB storage</li>\n<li>Ubuntu 20.04 or newer (Ubuntu 24.04 recommended)</li>\n<li>Root or sudo access</li>\n<li>SSH access</li>\n<li>Internet connection</li>\n<li>Basic understanding of Docker</li>\n</ul>\n\n<h3>\n  <a name=\"stepbystep-installation-guide\" href=\"#stepbystep-installation-guide\">\n  </a>\n  Step-by-Step Installation Guide\n</h3>\n\n<h4>\n  <a name=\"step-1-connect-to-your-vps\" href=\"#step-1-connect-to-your-vps\">\n  </a>\n  Step 1: Connect to Your VPS\n</h4>\n\n<p>Connect to your server via SSH:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>ssh root@your_server_ip\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h4>\n  <a name=\"step-2-update-your-system\" href=\"#step-2-update-your-system\">\n  </a>\n  Step 2: Update Your System\n</h4>\n\n<p>Always start with a fully updated system:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>apt update &amp;&amp; apt upgrade -y\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h4>\n  <a name=\"step-3-verify-docker-installation\" href=\"#step-3-verify-docker-installation\">\n  </a>\n  Step 3: Verify Docker Installation\n</h4>\n\n<p>Coolify requires Docker and Docker Compose. Check if Docker is already installed:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>docker --version\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>If Docker isn't installed, follow the official Docker installation guide for your Ubuntu version from the Docker documentation.</p>\n\n<h4>\n  <a name=\"step-4-install-coolify\" href=\"#step-4-install-coolify\">\n  </a>\n  Step 4: Install Coolify\n</h4>\n\n<p>The simplest way to install Coolify is using the official installation script:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>curl -fsSL https://cdn.coollabs.io/coolify/install.sh | sudo bash\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h4>\n  <a name=\"step-5-access-coolify-dashboard\" href=\"#step-5-access-coolify-dashboard\">\n  </a>\n  Step 5: Access Coolify Dashboard\n</h4>\n\n<p><a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fuf14eke6bzd9q4mk9elm.png\" class=\"article-body-image-wrapper\"><img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fuf14eke6bzd9q4mk9elm.png\" alt=\"successful installation\" loading=\"lazy\" width=\"800\" height=\"233\"></a></p>\n\n<p>After installation completes successfully, the script will display your Coolify URL (typically <code>http://your_server_ip:8000</code>).<br>\nTo access your dashboard:</p>\n\n<ul>\n<li>Visit this URL in your web browser</li>\n<li>You'll be redirected to a registration page</li>\n<li>Create your first admin account immediately</li>\n</ul>\n<h3>\n  <a name=\"making-coolify-publicly-accessible\" href=\"#making-coolify-publicly-accessible\">\n  </a>\n  Making Coolify Publicly Accessible\n</h3>\n\n<p>By default, Coolify might only be accessible locally. Let's configure it for public access.</p>\n<h4>\n  <a name=\"step-1-configure-firewall-rules\" href=\"#step-1-configure-firewall-rules\">\n  </a>\n  Step 1: Configure Firewall Rules\n</h4>\n\n<p>First, check your firewall status:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>sudo ufw status\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>If UFW isn't installed:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>sudo apt install ufw\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code># Allow SSH\nsudo ufw allow ssh\n\n# Allow Coolify main port\nsudo ufw allow 8000/tcp\n\n# Allow HTTP and HTTPS for deployed applications\nsudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\n\n# Enable the firewall\nsudo ufw enable\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h4>\n  <a name=\"step-2-verify-port-binding\" href=\"#step-2-verify-port-binding\">\n  </a>\n  Step 2: Verify Port Binding\n</h4>\n\n<p>Ensure Coolify is listening on all interfaces:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>sudo netstat -tulpn | grep 8000\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>You should see it bound to 0.0.0.0:8000 rather than just 127.0.0.1:8000.</p>\n\n<h4>\n  <a name=\"step-3-restart-coolify\" href=\"#step-3-restart-coolify\">\n  </a>\n  Step 3: Restart Coolify\n</h4>\n\n<p>After making changes, restart Coolify:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>cd /data/coolify/source\ndocker compose down\ndocker compose up -d\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h4>\n  <a name=\"step-4-test-external-access\" href=\"#step-4-test-external-access\">\n  </a>\n  Step 4: Test External Access\n</h4>\n\n<p>Now try accessing Coolify from outside your server:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>http://your-server-ip:8000\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F09gta3omguj79ie5xbrg.png\" class=\"article-body-image-wrapper\"><img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F09gta3omguj79ie5xbrg.png\" alt=\"Coolify Dashboard\" loading=\"lazy\" width=\"800\" height=\"667\"></a></p>\n\n<p>If you don't know your server's public IP address, use:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>curl -4 icanhazip.com\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"setting-up-a-custom-domain-for-your-coolify-dashboard\" href=\"#setting-up-a-custom-domain-for-your-coolify-dashboard\">\n  </a>\n  Setting Up a Custom Domain for Your Coolify Dashboard\n</h3>\n\n<p>For a more professional setup, you can configure Coolify to use your own domain.</p>\n\n<h4>\n  <a name=\"step-1-add-dns-record\" href=\"#step-1-add-dns-record\">\n  </a>\n  Step 1: Add DNS Record\n</h4>\n\n<p>First, add an A record at your domain registrar:</p>\n\n<ul>\n<li>Type: A</li>\n<li>Name: coolify (or subdomain of your choice, or @ for root domain)</li>\n<li>Value: Your server's IP address</li>\n</ul>\n\n<p>Step 2: Update Coolify Configuration<br>\nModify Coolify's environment variables:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>cd /data/coolify/source\n\n# Backup existing environment file\ncp .env .env.backup\n\n# Edit the .env file\nnano .env\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Add or update these variables:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>APP_URL=https://yourdomain.com\nCOOLIFY_FQDN=yourdomain.com\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Step 3: Restart Coolify with New Configuration<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>cd /data/coolify/source\n\n# Stop everything\ndocker compose --env-file .env -f docker-compose.yml -f docker-compose.prod.yml stop\n\n# Start everything fresh\ndocker compose --env-file .env -f docker-compose.yml -f docker-compose.prod.yml up -d\n\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Coolify should now be accessible via your custom domain!</p>\n\n<h3>\n  <a name=\"verifying-your-installation\" href=\"#verifying-your-installation\">\n  </a>\n  Verifying Your Installation\n</h3>\n\n<p>To ensure everything is running properly:</p>\n\n<h4>\n  <a name=\"1-check-container-status\" href=\"#1-check-container-status\">\n  </a>\n  1. Check Container Status:\n</h4>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>docker ps\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Look for Coolify-related containers running without errors.</p>\n\n<h4>\n  <a name=\"2-check-logs\" href=\"#2-check-logs\">\n  </a>\n  2. Check Logs:\n</h4>\n\n\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>cd /data/coolify/source\ndocker compose logs\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h4>\n  <a name=\"3-test-dashboard-access\" href=\"#3-test-dashboard-access\">\n  </a>\n  3. Test Dashboard Access:\n</h4>\n\n<p>Visit your dashboard URL (either IP:8000 or your custom domain) in a browser.</p>\n\n<h2>\n  <a name=\"conclusion\" href=\"#conclusion\">\n  </a>\n  Conclusion\n</h2>\n\n<p>Coolify provides a powerful, self-hosted platform for managing your applications. By following this guide, you've successfully set up your own deployment platform that gives you complete control over your infrastructure.</p>\n\n<p>With Coolify up and running, you can now deploy websites, applications, and databases with ease—all from a clean, user-friendly dashboard that you control.</p>\n\n<h2>\n  <a name=\"upcoming\" href=\"#upcoming\">\n  </a>\n  Upcoming\n</h2>\n\n<p>explore more open-source technologies while solving real life problems.</p>\n\n<p>Stay tuned and happy deploying!</p>\n\n"
    },
    1406955: {
      id: 1406955,
      title: 'Supercharge Your UI Development with Storybook',
      tag_list: ['storybook', 'frontend', 'nextjs', 'documentation'],
      cover_image: 'https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F4xoz500ldeh74izz9tom.png',
      url: 'https://dev.to/jaskarandeogan/supercharge-your-ui-development-with-storybook-1nhb',
      published_at: '2023-03-19T20:06:57Z',
      body_html: "<p>\"Storybook for Component-Driven Development: A Comprehensive Guide\" - Learn how Storybook simplifies UI component development by allowing developers to view and interact with components in isolation. Discover the benefits of using Storybook to document component-driven development and get started with it today.</p>\n\n<p><strong>Why Storybook is Useful for Documenting Component-Driven Development</strong><br>\nStorybook is valuable for documenting components in a clear and accessible way. It's especially helpful for large-scale projects with multiple developers. Teams can create their own stories to review each other's work and catch errors early on. It also helps improve code quality by isolating and testing components in various states. This reduces debugging time and enhances the overall stability of the application.</p>\n\n<p><strong>How to Get Started with Storybook</strong><br>\nGetting started with Storybook is relatively easy. Here are the basic steps:</p>\n\n<p>Install Storybook using your preferred package manager. For example, you can use the following command with npm:</p>\n\n<p><code>npm install -D @storybook/react</code></p>\n\n<p>Create a configuration file for Storybook. You can use the following command to create a basic configuration file:</p>\n\n<p><code>npx sb init</code></p>\n\n<p>Note: depending upon your styling, you may have to configure this further. check official <a href=\"https://storybook.js.org/docs/react/get-started/why-storybook\" target=\"_blank\" rel=\"noopener noreferrer\">documentation </a></p>\n\n<p>Create your first story. You can create a new file in your project's src directory. Here is a small demo how I created a story of one of my component.</p>\n\n<p>src/components/ProgressBar/ProgressBar.stories.js. Here's an example of what the file might look like:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>import React from \"react\";\nimport { Meta, Story } from \"@storybook/react\";\nimport CircularProgressBar from \"../components/CircularProgressBar\";\nimport { CircularProgressBarProps } from \"@/types/components\";\n\nexport default {\n  title: \"Components/CircularProgressBar\",\n  component: CircularProgressBar,\n  layout: \"fullscreen\",\n} as Meta;\n\nconst Template: Story&lt;CircularProgressBarProps&gt; = (args) =&gt; (\n  &lt;CircularProgressBar {...args} /&gt;\n);\n\nexport const Default = Template.bind({});\nDefault.args = {\n  children: (\n    &lt;div className=\"flex items-center justify-center text-lg font-bold text-gray-700 rounded-full bg-white h-20 w-20 \"&gt;\n      75%\n    &lt;/div&gt;\n  ),\n};\n\nexport const CustomColors = Template.bind({});\nCustomColors.args = {\n  progressStart: 50,\n  progressEnd: 100,\n  barColor: \"#10B981\",\n  className: \"bg-gray-200\",\n  children: (\n    &lt;div className=\"flex items-center justify-center text-lg font-bold text-gray-700 rounded-full bg-slate-400 h-20 w-20\"&gt;\n      75%\n    &lt;/div&gt;\n  ),\n};\n\nexport const SlowSpeed = Template.bind({});\nSlowSpeed.args = {\n  progressStart: 0,\n  progressEnd: 90,\n  speed: 50,\n  barColor: \"#F59E0B\",\n  children: (\n    &lt;div className=\"flex items-center justify-center text-lg font-bold text-gray-700 rounded-full bg-slate-400 h-20 w-20\"&gt;\n      {}\n    &lt;/div&gt;\n  ),\n};\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This example creates a story for a ProgressBar that wraps a child and show a progress. component has been shown three different states default, custom color and custom speed. </p>\n\n<p>Start the Storybook server. You can use the following command:</p>\n\n<p><code>npm run storybook</code></p>\n\n<p>This will start the Storybook</p>\n\n<p>A screenshot of storybook dashboard, and how you can customise component with props.</p>\n\n<p><a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fdbqd4m2tz859zl5orcmz.png\" class=\"article-body-image-wrapper\"><img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fdbqd4m2tz859zl5orcmz.png\" alt=\"A demo of how it looks like on storybook dashboard.\" loading=\"lazy\" width=\"800\" height=\"628\"></a></p>\n\n"
    }
}

export default Blogs;